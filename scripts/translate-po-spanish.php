<?php
/**
 * Local Spanish Translation Script
 * 
 * Translates empty msgstr entries in es_ES.po using a built-in dictionary.
 * 
 * Usage: php scripts/translate-po-spanish.php
 */

$po_file = __DIR__ . '/../languages/es_ES.po';

if (!file_exists($po_file)) {
    die("âŒ PO file not found: $po_file\n");
}

// Spanish translation dictionary
$dictionary = [
    // ===== COMMON UI =====
    'Save' => 'Guardar',
    'Cancel' => 'Cancelar',
    'Delete' => 'Eliminar',
    'Edit' => 'Editar',
    'Add' => 'AÃ±adir',
    'Update' => 'Actualizar',
    'Close' => 'Cerrar',
    'Back' => 'AtrÃ¡s',
    'Next' => 'Siguiente',
    'Previous' => 'Anterior',
    'Search' => 'Buscar',
    'Filter' => 'Filtrar',
    'Clear' => 'Limpiar',
    'Reset' => 'Restablecer',
    'Submit' => 'Enviar',
    'Confirm' => 'Confirmar',
    'Yes' => 'SÃ­',
    'No' => 'No',
    'OK' => 'Aceptar',
    'Loading...' => 'Cargando...',
    'Please wait...' => 'Por favor espere...',
    'Error' => 'Error',
    'Success' => 'Ã‰xito',
    'Warning' => 'Advertencia',
    'Info' => 'InformaciÃ³n',
    'None' => 'Ninguno',
    'All' => 'Todos',
    'Select' => 'Seleccionar',
    'Select...' => 'Seleccionar...',
    'Choose' => 'Elegir',
    'Options' => 'Opciones',
    'Actions' => 'Acciones',
    'More' => 'MÃ¡s',
    'Less' => 'Menos',
    'Show' => 'Mostrar',
    'Hide' => 'Ocultar',
    'View' => 'Ver',
    'Details' => 'Detalles',
    'Summary' => 'Resumen',
    'Total' => 'Total',
    'Subtotal' => 'Subtotal',
    'Tax' => 'Impuesto',
    'Discount' => 'Descuento',
    'Price' => 'Precio',
    'Amount' => 'Cantidad',
    'Quantity' => 'Cantidad',
    'Status' => 'Estado',
    'Active' => 'Activo',
    'Inactive' => 'Inactivo',
    'Enabled' => 'Habilitado',
    'Disabled' => 'Deshabilitado',
    'Default' => 'Predeterminado',
    'Custom' => 'Personalizado',
    'Required' => 'Requerido',
    'Optional' => 'Opcional',
    'Available' => 'Disponible',
    'Unavailable' => 'No disponible',
    'Today' => 'Hoy',
    'Tomorrow' => 'MaÃ±ana',
    'Yesterday' => 'Ayer',
    'Now' => 'Ahora',
    'Never' => 'Nunca',
    'Always' => 'Siempre',
    'Name' => 'Nombre',
    'Email' => 'Correo electrÃ³nico',
    'Phone' => 'TelÃ©fono',
    'Address' => 'DirecciÃ³n',
    'City' => 'Ciudad',
    'Country' => 'PaÃ­s',
    'Notes' => 'Notas',
    'Description' => 'DescripciÃ³n',
    'Title' => 'TÃ­tulo',
    'Date' => 'Fecha',
    'Time' => 'Hora',
    'Duration' => 'DuraciÃ³n',
    'Start' => 'Inicio',
    'End' => 'Fin',
    'From' => 'Desde',
    'To' => 'Hasta',
    'Type' => 'Tipo',
    'Category' => 'CategorÃ­a',
    'Image' => 'Imagen',
    'File' => 'Archivo',
    'Upload' => 'Subir',
    'Download' => 'Descargar',
    'Export' => 'Exportar',
    'Import' => 'Importar',
    'Print' => 'Imprimir',
    'Copy' => 'Copiar',
    'Paste' => 'Pegar',
    'Help' => 'Ayuda',
    'About' => 'Acerca de',
    'Version' => 'VersiÃ³n',
    'Settings' => 'ConfiguraciÃ³n',
    'General' => 'General',
    'Advanced' => 'Avanzado',
    'Basic' => 'BÃ¡sico',
    'Profile' => 'Perfil',
    'Account' => 'Cuenta',
    'Password' => 'ContraseÃ±a',
    'Login' => 'Iniciar sesiÃ³n',
    'Logout' => 'Cerrar sesiÃ³n',
    'Register' => 'Registrarse',
    'Welcome' => 'Bienvenido',
    'Hello' => 'Hola',
    'Goodbye' => 'AdiÃ³s',
    
    // ===== DAYS & TIME =====
    'Monday' => 'Lunes',
    'Tuesday' => 'Martes',
    'Wednesday' => 'MiÃ©rcoles',
    'Thursday' => 'Jueves',
    'Friday' => 'Viernes',
    'Saturday' => 'SÃ¡bado',
    'Sunday' => 'Domingo',
    'Mon' => 'Lun',
    'Tue' => 'Mar',
    'Wed' => 'MiÃ©',
    'Thu' => 'Jue',
    'Fri' => 'Vie',
    'Sat' => 'SÃ¡b',
    'Sun' => 'Dom',
    'January' => 'Enero',
    'February' => 'Febrero',
    'March' => 'Marzo',
    'April' => 'Abril',
    'May' => 'Mayo',
    'June' => 'Junio',
    'July' => 'Julio',
    'August' => 'Agosto',
    'September' => 'Septiembre',
    'October' => 'Octubre',
    'November' => 'Noviembre',
    'December' => 'Diciembre',
    'Day' => 'DÃ­a',
    'Days' => 'DÃ­as',
    'Week' => 'Semana',
    'Weeks' => 'Semanas',
    'Month' => 'Mes',
    'Months' => 'Meses',
    'Year' => 'AÃ±o',
    'Years' => 'AÃ±os',
    'Hour' => 'Hora',
    'Hours' => 'Horas',
    'Minute' => 'Minuto',
    'Minutes' => 'Minutos',
    'Second' => 'Segundo',
    'Seconds' => 'Segundos',
    
    // ===== BOOKING SYSTEM =====
    'Appointment' => 'Cita',
    'Appointments' => 'Citas',
    'Booking' => 'Reserva',
    'Bookings' => 'Reservas',
    'Reservation' => 'Reserva',
    'Reservations' => 'Reservas',
    'Service' => 'Servicio',
    'Services' => 'Servicios',
    'Customer' => 'Cliente',
    'Customers' => 'Clientes',
    'Staff' => 'Personal',
    'Staff Member' => 'Miembro del personal',
    'Resource' => 'Recurso',
    'Resources' => 'Recursos',
    'Room' => 'HabitaciÃ³n',
    'Rooms' => 'Habitaciones',
    'Location' => 'UbicaciÃ³n',
    'Locations' => 'Ubicaciones',
    'Calendar' => 'Calendario',
    'Schedule' => 'Horario',
    'Availability' => 'Disponibilidad',
    'Slot' => 'Franja horaria',
    'Time Slot' => 'Franja horaria',
    'Check-in' => 'Entrada',
    'Check-out' => 'Salida',
    'Arrival' => 'Llegada',
    'Departure' => 'Salida',
    'Guest' => 'HuÃ©sped',
    'Guests' => 'HuÃ©spedes',
    'Adults' => 'Adultos',
    'Children' => 'NiÃ±os',
    'Infant' => 'BebÃ©',
    'Infants' => 'BebÃ©s',
    
    // ===== STATUS =====
    'Pending' => 'Pendiente',
    'Confirmed' => 'Confirmado',
    'Cancelled' => 'Cancelado',
    'Completed' => 'Completado',
    'No-show' => 'No presentado',
    'In Progress' => 'En progreso',
    'Approved' => 'Aprobado',
    'Rejected' => 'Rechazado',
    'Draft' => 'Borrador',
    'Published' => 'Publicado',
    'Archived' => 'Archivado',
    'Deleted' => 'Eliminado',
    'Open' => 'Abierto',
    'Closed' => 'Cerrado',
    'Booked' => 'Reservado',
    'Available' => 'Disponible',
    'Occupied' => 'Ocupado',
    'Vacant' => 'Vacante',
    'Maintenance' => 'Mantenimiento',
    'Out of Order' => 'Fuera de servicio',
    
    // ===== PAYMENT =====
    'Payment' => 'Pago',
    'Payments' => 'Pagos',
    'Pay' => 'Pagar',
    'Paid' => 'Pagado',
    'Unpaid' => 'No pagado',
    'Partial' => 'Parcial',
    'Refund' => 'Reembolso',
    'Refunded' => 'Reembolsado',
    'Invoice' => 'Factura',
    'Receipt' => 'Recibo',
    'Credit Card' => 'Tarjeta de crÃ©dito',
    'Debit Card' => 'Tarjeta de dÃ©bito',
    'Bank Transfer' => 'Transferencia bancaria',
    'Cash' => 'Efectivo',
    'PayPal' => 'PayPal',
    'Stripe' => 'Stripe',
    'WooCommerce' => 'WooCommerce',
    'Deposit' => 'DepÃ³sito',
    'Balance' => 'Saldo',
    'Due' => 'Vencido',
    'Overdue' => 'Atrasado',
    'Free' => 'Gratis',
    
    // ===== NAVIGATION =====
    'Dashboard' => 'Panel de control',
    'Home' => 'Inicio',
    'Menu' => 'MenÃº',
    'Overview' => 'Resumen',
    'Reports' => 'Informes',
    'Analytics' => 'AnalÃ­ticas',
    'Statistics' => 'EstadÃ­sticas',
    'Notifications' => 'Notificaciones',
    'Messages' => 'Mensajes',
    'Inbox' => 'Bandeja de entrada',
    'Outbox' => 'Bandeja de salida',
    'Sent' => 'Enviado',
    'Drafts' => 'Borradores',
    'Trash' => 'Papelera',
    'Archive' => 'Archivo',
    'History' => 'Historial',
    'Log' => 'Registro',
    'Logs' => 'Registros',
    
    // ===== FORMS =====
    'Form' => 'Formulario',
    'Field' => 'Campo',
    'Fields' => 'Campos',
    'Label' => 'Etiqueta',
    'Placeholder' => 'Marcador de posiciÃ³n',
    'Value' => 'Valor',
    'Text' => 'Texto',
    'Number' => 'NÃºmero',
    'Email Address' => 'DirecciÃ³n de correo electrÃ³nico',
    'Phone Number' => 'NÃºmero de telÃ©fono',
    'First Name' => 'Nombre',
    'Last Name' => 'Apellido',
    'Full Name' => 'Nombre completo',
    'Company' => 'Empresa',
    'Website' => 'Sitio web',
    'Message' => 'Mensaje',
    'Comment' => 'Comentario',
    'Comments' => 'Comentarios',
    'Review' => 'ReseÃ±a',
    'Reviews' => 'ReseÃ±as',
    'Rating' => 'CalificaciÃ³n',
    'Feedback' => 'Comentarios',
    
    // ===== MESSAGES =====
    'Saved successfully.' => 'Guardado correctamente.',
    'Deleted successfully.' => 'Eliminado correctamente.',
    'Updated successfully.' => 'Actualizado correctamente.',
    'Created successfully.' => 'Creado correctamente.',
    'Changes saved.' => 'Cambios guardados.',
    'No changes made.' => 'Sin cambios.',
    'Are you sure?' => 'Â¿EstÃ¡ seguro?',
    'Are you sure you want to delete this?' => 'Â¿EstÃ¡ seguro de que desea eliminar esto?',
    'This action cannot be undone.' => 'Esta acciÃ³n no se puede deshacer.',
    'Something went wrong.' => 'Algo saliÃ³ mal.',
    'Please try again.' => 'Por favor, intÃ©ntelo de nuevo.',
    'An error occurred.' => 'Se produjo un error.',
    'Invalid input.' => 'Entrada no vÃ¡lida.',
    'Required field.' => 'Campo requerido.',
    'Invalid email address.' => 'DirecciÃ³n de correo electrÃ³nico no vÃ¡lida.',
    'Invalid phone number.' => 'NÃºmero de telÃ©fono no vÃ¡lido.',
    'No results found.' => 'No se encontraron resultados.',
    'No items found.' => 'No se encontraron elementos.',
    'No data available.' => 'No hay datos disponibles.',
    
    // ===== PLUGIN-SPECIFIC =====
    'LazyBookings' => 'LazyBookings',
    'Add New Appointment' => 'AÃ±adir nueva cita',
    'Edit Appointment' => 'Editar cita',
    'Delete Appointment' => 'Eliminar cita',
    'View Appointment' => 'Ver cita',
    'Appointment Details' => 'Detalles de la cita',
    'Appointment Status' => 'Estado de la cita',
    'Appointment created.' => 'Cita creada.',
    'Appointment updated.' => 'Cita actualizada.',
    'Appointment deleted.' => 'Cita eliminada.',
    'Appointment confirmed.' => 'Cita confirmada.',
    'Appointment cancelled.' => 'Cita cancelada.',
    'Add New Booking' => 'AÃ±adir nueva reserva',
    'Edit Booking' => 'Editar reserva',
    'Delete Booking' => 'Eliminar reserva',
    'View Booking' => 'Ver reserva',
    'Booking Details' => 'Detalles de la reserva',
    'Booking Status' => 'Estado de la reserva',
    'Booking created.' => 'Reserva creada.',
    'Booking updated.' => 'Reserva actualizada.',
    'Booking deleted.' => 'Reserva eliminada.',
    'Booking confirmed.' => 'Reserva confirmada.',
    'Booking cancelled.' => 'Reserva cancelada.',
    'Add New Customer' => 'AÃ±adir nuevo cliente',
    'Edit Customer' => 'Editar cliente',
    'Delete Customer' => 'Eliminar cliente',
    'View Customer' => 'Ver cliente',
    'Customer Details' => 'Detalles del cliente',
    'Customer saved.' => 'Cliente guardado.',
    'Add New Service' => 'AÃ±adir nuevo servicio',
    'Edit Service' => 'Editar servicio',
    'Delete Service' => 'Eliminar servicio',
    'View Service' => 'Ver servicio',
    'Service Details' => 'Detalles del servicio',
    'Service saved.' => 'Servicio guardado.',
    'Add New Staff' => 'AÃ±adir nuevo personal',
    'Edit Staff' => 'Editar personal',
    'Delete Staff' => 'Eliminar personal',
    'Add New Resource' => 'AÃ±adir nuevo recurso',
    'Edit Resource' => 'Editar recurso',
    'Delete Resource' => 'Eliminar recurso',
    'Add New Room' => 'AÃ±adir nueva habitaciÃ³n',
    'Edit Room' => 'Editar habitaciÃ³n',
    'Delete Room' => 'Eliminar habitaciÃ³n',
    'Room Type' => 'Tipo de habitaciÃ³n',
    'Room Types' => 'Tipos de habitaciÃ³n',
    'Room Number' => 'NÃºmero de habitaciÃ³n',
    'Room Name' => 'Nombre de la habitaciÃ³n',
    'Room Status' => 'Estado de la habitaciÃ³n',
    'Bed Type' => 'Tipo de cama',
    'Number of Beds' => 'NÃºmero de camas',
    'Max Guests' => 'MÃ¡ximo de huÃ©spedes',
    'Max Capacity' => 'Capacidad mÃ¡xima',
    'Price per Night' => 'Precio por noche',
    'Per Night' => 'Por noche',
    'Per Person' => 'Por persona',
    'Working Hours' => 'Horario laboral',
    'Business Hours' => 'Horario comercial',
    'Opening Hours' => 'Horario de apertura',
    'Start Date' => 'Fecha de inicio',
    'End Date' => 'Fecha de fin',
    'Start Time' => 'Hora de inicio',
    'End Time' => 'Hora de fin',
    'Date Range' => 'Rango de fechas',
    'Time Range' => 'Rango horario',
    'Select Date' => 'Seleccionar fecha',
    'Select Time' => 'Seleccionar hora',
    'Select Service' => 'Seleccionar servicio',
    'Select Staff' => 'Seleccionar personal',
    'Select Customer' => 'Seleccionar cliente',
    'Select Room' => 'Seleccionar habitaciÃ³n',
    'Select Status' => 'Seleccionar estado',
    'All Appointments' => 'Todas las citas',
    'All Bookings' => 'Todas las reservas',
    'All Customers' => 'Todos los clientes',
    'All Services' => 'Todos los servicios',
    'All Staff' => 'Todo el personal',
    'All Rooms' => 'Todas las habitaciones',
    'No Appointments' => 'Sin citas',
    'No Bookings' => 'Sin reservas',
    'No Customers' => 'Sin clientes',
    'No Services' => 'Sin servicios',
    'Total Bookings' => 'Total de reservas',
    'Total Revenue' => 'Ingresos totales',
    'Total Customers' => 'Total de clientes',
    'Book Now' => 'Reservar ahora',
    'Book' => 'Reservar',
    'Reserve' => 'Reservar',
    'Check Availability' => 'Comprobar disponibilidad',
    'View Calendar' => 'Ver calendario',
    'Calendar View' => 'Vista de calendario',
    'List View' => 'Vista de lista',
    'Day View' => 'Vista de dÃ­a',
    'Week View' => 'Vista de semana',
    'Month View' => 'Vista de mes',
    'Diagnostics' => 'DiagnÃ³sticos',
    'Documentation' => 'DocumentaciÃ³n',
    'Support' => 'Soporte',
    'Branding' => 'Marca',
    'Design' => 'DiseÃ±o',
    'Appearance' => 'Apariencia',
    'Colors' => 'Colores',
    'Primary Color' => 'Color primario',
    'Secondary Color' => 'Color secundario',
    'Accent Color' => 'Color de acento',
    'Background Color' => 'Color de fondo',
    'Text Color' => 'Color del texto',
    'Border Color' => 'Color del borde',
    'Error Color' => 'Color de error',
    'Success Color' => 'Color de Ã©xito',
    'Warning Color' => 'Color de advertencia',
    'Font Family' => 'Familia de fuentes',
    'Font Size' => 'TamaÃ±o de fuente',
    'Border Radius' => 'Radio del borde',
    'Border Width' => 'Ancho del borde',
    'Custom CSS' => 'CSS personalizado',
    'Automation' => 'AutomatizaciÃ³n',
    'Automations' => 'Automatizaciones',
    'Rule' => 'Regla',
    'Rules' => 'Reglas',
    'Trigger' => 'Disparador',
    'Triggers' => 'Disparadores',
    'Action' => 'AcciÃ³n',
    'Condition' => 'CondiciÃ³n',
    'Conditions' => 'Condiciones',
    'Add Rule' => 'AÃ±adir regla',
    'Edit Rule' => 'Editar regla',
    'Delete Rule' => 'Eliminar regla',
    'Rule saved.' => 'Regla guardada.',
    'Rule deleted.' => 'Regla eliminada.',
    'Template' => 'Plantilla',
    'Templates' => 'Plantillas',
    'Email Template' => 'Plantilla de correo',
    'Add Template' => 'AÃ±adir plantilla',
    'Edit Template' => 'Editar plantilla',
    'Subject' => 'Asunto',
    'Body' => 'Cuerpo',
    'Send Email' => 'Enviar correo',
    'Send Notification' => 'Enviar notificaciÃ³n',
    'Send Reminder' => 'Enviar recordatorio',
    'Reminder' => 'Recordatorio',
    'Reminders' => 'Recordatorios',
    'Notification' => 'NotificaciÃ³n',
    'Email Notifications' => 'Notificaciones por correo',
    'SMS Notifications' => 'Notificaciones por SMS',
    'Push Notifications' => 'Notificaciones push',
    'AI' => 'IA',
    'AI Settings' => 'ConfiguraciÃ³n de IA',
    'AI Provider' => 'Proveedor de IA',
    'AI Enabled' => 'IA habilitada',
    'AI Settings saved.' => 'ConfiguraciÃ³n de IA guardada.',
    'Coupon' => 'CupÃ³n',
    'Coupons' => 'Cupones',
    'Coupon Code' => 'CÃ³digo de cupÃ³n',
    'Discount Code' => 'CÃ³digo de descuento',
    'Apply Coupon' => 'Aplicar cupÃ³n',
    'Remove Coupon' => 'Eliminar cupÃ³n',
    'WooCommerce Integration' => 'IntegraciÃ³n con WooCommerce',
    'Google Calendar' => 'Google Calendar',
    'Stripe Integration' => 'IntegraciÃ³n con Stripe',
    'PayPal Integration' => 'IntegraciÃ³n con PayPal',
    'API Key' => 'Clave API',
    'Secret Key' => 'Clave secreta',
    'Webhook' => 'Webhook',
    'Webhooks' => 'Webhooks',
    'Webhook URL' => 'URL del webhook',
    'Privacy' => 'Privacidad',
    'Privacy Policy' => 'PolÃ­tica de privacidad',
    'Terms' => 'TÃ©rminos',
    'Terms of Service' => 'TÃ©rminos de servicio',
    'GDPR' => 'RGPD',
    'Data Retention' => 'RetenciÃ³n de datos',
    'Export Data' => 'Exportar datos',
    'Delete Data' => 'Eliminar datos',
    'Anonymize' => 'Anonimizar',
    'Setup Wizard' => 'Asistente de configuraciÃ³n',
    'Getting Started' => 'Comenzar',
    'Quick Start' => 'Inicio rÃ¡pido',
    'Skip' => 'Omitir',
    'Finish' => 'Finalizar',
    'Complete Setup' => 'Completar configuraciÃ³n',
    
    // ===== VALIDATION & ERRORS =====
    'An unexpected error occurred. Please try again or contact support.' => 'Se produjo un error inesperado. Por favor, intÃ©ntelo de nuevo o contacte con soporte.',
    'Could not save customer. Please try again.' => 'No se pudo guardar el cliente. Por favor, intÃ©ntelo de nuevo.',
    'Could not save service. Please try again.' => 'No se pudo guardar el servicio. Por favor, intÃ©ntelo de nuevo.',
    'Could not delete appointment.' => 'No se pudo eliminar la cita.',
    'Could not update appointment.' => 'No se pudo actualizar la cita.',
    'Could not save the appointment to the database.' => 'No se pudo guardar la cita en la base de datos.',
    'Invalid request. Please check your input and try again.' => 'Solicitud no vÃ¡lida. Por favor, revise su entrada e intÃ©ntelo de nuevo.',
    'Please enter a valid customer email.' => 'Por favor, introduzca un correo electrÃ³nico de cliente vÃ¡lido.',
    'Please enter valid start and end dates.' => 'Por favor, introduzca fechas de inicio y fin vÃ¡lidas.',
    'Payment failed. Please try again.' => 'El pago fallÃ³. Por favor, intÃ©ntelo de nuevo.',
    'Authentication required. Please log in.' => 'Se requiere autenticaciÃ³n. Por favor, inicie sesiÃ³n.',
    'Settings saved.' => 'ConfiguraciÃ³n guardada.',
    'Design saved.' => 'DiseÃ±o guardado.',
    'Color saved.' => 'Color guardado.',
    'Working hours saved.' => 'Horario laboral guardado.',
    'Exception created.' => 'ExcepciÃ³n creada.',
    'Exception deleted.' => 'ExcepciÃ³n eliminada.',
    'Guest saved.' => 'HuÃ©sped guardado.',
    'Branding settings saved successfully.' => 'ConfiguraciÃ³n de marca guardada correctamente.',
    'Could not change language. Please try again.' => 'No se pudo cambiar el idioma. Por favor, intÃ©ntelo de nuevo.',
    'Network error. Please try again.' => 'Error de red. Por favor, intÃ©ntelo de nuevo.',
    
    // ===== MISC =====
    'Language' => 'Idioma',
    'Select Language' => 'Seleccionar idioma',
    'English' => 'InglÃ©s',
    'German' => 'AlemÃ¡n',
    'Spanish' => 'EspaÃ±ol',
    'French' => 'FrancÃ©s',
    'Italian' => 'Italiano',
    'Portuguese' => 'PortuguÃ©s',
    'Currency' => 'Moneda',
    'Timezone' => 'Zona horaria',
    'Time Zone' => 'Zona horaria',
    'Date Format' => 'Formato de fecha',
    'Time Format' => 'Formato de hora',
    '24-hour' => '24 horas',
    '12-hour' => '12 horas',
    'per night' => 'por noche',
    'per person' => 'por persona',
    'per hour' => 'por hora',
    'per day' => 'por dÃ­a',
    'per week' => 'por semana',
    'per month' => 'por mes',
    'Daily' => 'Diario',
    'Weekly' => 'Semanal',
    'Monthly' => 'Mensual',
    'Yearly' => 'Anual',
    'Credits' => 'CrÃ©ditos',
    'Package' => 'Paquete',
    'Packages' => 'Paquetes',
    'Waitlist' => 'Lista de espera',
    'Queue' => 'Cola',
    '30 Days' => '30 dÃ­as',
    '60 Days' => '60 dÃ­as',
    '90 Days' => '90 dÃ­as',
    '1 Year' => '1 aÃ±o',
    
    // ===== PLACEHOLDERS WITH %s/%d =====
    '%s is required' => '%s es requerido',
    '%s must be a number' => '%s debe ser un nÃºmero',
    '%s must be a valid email' => '%s debe ser un correo electrÃ³nico vÃ¡lido',
    '%s must be a valid URL' => '%s debe ser una URL vÃ¡lida',
    '%s must be at least %d characters' => '%s debe tener al menos %d caracteres',
    '%s must be no more than %d characters' => '%s no debe tener mÃ¡s de %d caracteres',
    '%s format is invalid' => 'El formato de %s no es vÃ¡lido',
    '%s saved successfully.' => '%s guardado correctamente.',
    '%d services deleted successfully.' => '%d servicios eliminados correctamente.',
    '%d appointments found.' => '%d citas encontradas.',
    '%d bookings found.' => '%d reservas encontradas.',
    '%d customers found.' => '%d clientes encontrados.',
];

echo "ðŸ“‚ Loading PO file...\n";

$content = file_get_contents($po_file);

// Update header for Spanish
$content = preg_replace(
    '/^"Language: .*?"$/m',
    '"Language: es_ES\n"',
    $content
);

// Parse and translate
$lines = explode("\n", $content);
$result = [];
$current_msgid = '';
$in_msgid = false;
$in_msgstr = false;
$msgstr_empty = false;
$translated_count = 0;
$total_empty = 0;

for ($i = 0; $i < count($lines); $i++) {
    $line = $lines[$i];
    
    // Track msgid
    if (preg_match('/^msgid "(.*)"$/', $line, $m)) {
        $current_msgid = $m[1];
        $in_msgid = true;
        $in_msgstr = false;
        $result[] = $line;
        continue;
    }
    
    // Multi-line msgid continuation
    if ($in_msgid && preg_match('/^"(.*)"$/', $line, $m)) {
        $current_msgid .= $m[1];
        $result[] = $line;
        continue;
    }
    
    // Track msgstr
    if (preg_match('/^msgstr "(.*)"$/', $line, $m)) {
        $in_msgid = false;
        $in_msgstr = true;
        $msgstr_value = $m[1];
        
        // Check if empty and we have translation
        if ($msgstr_value === '' && $current_msgid !== '' && isset($dictionary[$current_msgid])) {
            $total_empty++;
            $translation = $dictionary[$current_msgid];
            $result[] = 'msgstr "' . addcslashes($translation, '"\\') . '"';
            $translated_count++;
        } else {
            if ($msgstr_value === '' && $current_msgid !== '') {
                $total_empty++;
            }
            $result[] = $line;
        }
        continue;
    }
    
    // Multi-line msgstr (skip if we just translated)
    if ($in_msgstr && preg_match('/^"(.*)"$/', $line, $m)) {
        $result[] = $line;
        continue;
    }
    
    // Reset state on empty line
    if (trim($line) === '') {
        $in_msgid = false;
        $in_msgstr = false;
        $current_msgid = '';
    }
    
    $result[] = $line;
}

// Save
file_put_contents($po_file, implode("\n", $result));

$remaining = $total_empty - $translated_count;
echo "âœ… Translated $translated_count of $total_empty empty strings\n";
echo "ðŸ“ Remaining empty: $remaining\n";
